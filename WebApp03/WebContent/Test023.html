<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Test023.html</title>
<style type="text/css">
	* {color: #223322;}
	input {font-family: 나눔고딕코딩; font-weight: bold;}
	input:focus {background-color: #eeeedd;}
	input.btn {width: 90px ; font-weight: bold; font-family: 맑은 고딕}
	input.btn:hover {color: orange;}
	td {text-align: center;}
	.txt {text-align: right;}
	textarea {font-family: 나눔고딕코딩; font-weight: bold;}
</style>

<script type="text/javascript">
//★풀이★
	function actionScore()
	{
		var str = "";
				  // 이름, 국어, 영어, 수학, 총점, 등수들..
		var arr = new Array(new Array(), new Array(), new Array(), new Array(), new Array(), new Array());
		
		var n = 0;
		
		do
		{
			str = prompt("이름 국어 영어 수학( "+ (n + 1)+ " ) :");
			//"백이진 90 80 100"
			if (str == null || str == "." || str == " " || str == "")
				break;
			
			// var member = ["백이진", "90", "80","100"]
			var member = str.split(" ");
			//alert("1");
			
			arr[0][n] = member[0];	//name
			arr[1][n] = member[1];	//kor
			arr[2][n] = member[2];	//eng
			arr[3][n] = member[2];	//mat
			
			
			//alert("2");
			arr[4][n] = Number(member[1]) + Number(member[2]) + Number(member[3]);	//tot
			
			//alert("3");
			//등수방에는 우선 1로 초기화.
			arr[5][n] = 1;	//rank
			
			//alert("4");
			//반복문 돌 때 마다.
			n++;
			
		} while (true);
		//alert("두와일나옴.");
		//석차(등수) 계산
		//i번째 보다 총점 큰사람 3명 i 등수 4등!
		for (var i = 0; i < arr[0].length; i++)
		{
			for (var j = 0; j < arr[0].length; j++)
			{
				//자기자신이랑 비교할때
				if (i == j)
					//뒷부분 무시하고 계속!
					continue;
				
				//총점 비교
				if (Number(arr[4][i]) < Number(arr[4][j]))
				{
					//i 번째 학생의 등수(arr[5][i])를 1만큼 증가
					alert(arr[5][i]);
					arr[5][i] = (Number(arr[5][i]) + 1).toString();
				}
			}	
		}
		
		//---------여기까지 수행하면 arr 배열 구성 끝!
		
		var result = "";
		
		for (var h = 0; h < arr[0].length; h++)
		{
			for (var k = 0; k < arr.length; k++)
			{
				//alert(k + " " + j)
				result += arr[k][h] + "   ";
			}
			result += "\n";
		}
		document.getElementById("txtCount").value = arr[0].length;
		
		document.getElementById("memberList").value = "이름  국어 영어 수학 총점 등수\n";
		document.getElementById("memberList").value += result;
		
	}
	
	
	
	
	
	
	
</script>


</head>
<body>
<div>
	<h3>
	『prompt()』를 활용하여 여러 명의 성적 데이터를 입력받고,<br>
	등수를 부여하여, 리스트를 출력하는 페이지를 구성한다.<br>
	HTML, CSS, Javascript 활용.<br>
	</h3>
</div>
<div>
	<form>
		<input type = "button" value ="성적 정보 입력" class = "btn" style="width: 500px"; onclick="actionScore()">
		<br><br>
		
		전체 회원 수 <input type = "text" id = "txtCount" class = "txt" readonly="readonly"style="width:  20px";height="10px">
		명
		<br>
		<textarea rows="10" cols="75" id = "memberList" readonly="readonly" style="margin: 2px"></textarea>
	</form>
	
	
</div>
	

</body>
</html>